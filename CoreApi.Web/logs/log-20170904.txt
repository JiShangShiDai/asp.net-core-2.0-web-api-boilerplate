2017-09-04 14:46:05.353 +08:00 [Information] Entity Framework Core "2.0.0-rtm-26452" initialized '"CoreContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2017-09-04 14:46:21.704 +08:00 [Information] Executed DbCommand ("801"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [CoreApi];"
2017-09-04 14:46:21.938 +08:00 [Information] Executed DbCommand ("231"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5 EXEC(N'ALTER DATABASE [CoreApi] SET READ_COMMITTED_SNAPSHOT ON;');"
2017-09-04 14:46:22.142 +08:00 [Information] Executed DbCommand ("103"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
2017-09-04 14:46:22.181 +08:00 [Information] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');"
2017-09-04 14:46:22.183 +08:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2017-09-04 14:46:22.209 +08:00 [Information] Applying migration '"20170903005623_Initial"'.
2017-09-04 14:46:22.261 +08:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [dbo].[UploadedFiles] (
    [Id] int NOT NULL IDENTITY,
    [CreateTime] datetime2 NOT NULL,
    [CreateUser] nvarchar(50) NOT NULL,
    [Deleted] bit NOT NULL,
    [FileName] nvarchar(200) NOT NULL,
    [LastAction] nvarchar(50) NOT NULL,
    [Order] int NOT NULL,
    [Path] nvarchar(200) NOT NULL,
    [Size] bigint NOT NULL,
    [UpdateTime] datetime2 NOT NULL,
    [UpdateUser] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_UploadedFiles] PRIMARY KEY ([Id])
);"
2017-09-04 14:46:22.277 +08:00 [Information] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20170903005623_Initial', N'2.0.0-rtm-26452');"
2017-09-04 14:46:42.209 +08:00 [Information] Entity Framework Core "2.0.0-rtm-26452" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2017-09-04 14:46:42.476 +08:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');"
2017-09-04 14:46:42.479 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');"
2017-09-04 14:46:42.499 +08:00 [Information] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2017-09-04 14:46:42.503 +08:00 [Information] Applying migration '"20170903124938_InitialApplicationDbContext"'.
2017-09-04 14:46:42.607 +08:00 [Information] Executed DbCommand ("56"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2017-09-04 14:46:42.611 +08:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [AccessFailedCount] int NOT NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [Email] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [LockoutEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
2017-09-04 14:46:42.625 +08:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);"
2017-09-04 14:46:42.628 +08:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2017-09-04 14:46:42.643 +08:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2017-09-04 14:46:42.654 +08:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2017-09-04 14:46:42.656 +08:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2017-09-04 14:46:42.668 +08:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);"
2017-09-04 14:46:42.709 +08:00 [Information] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;"
2017-09-04 14:46:42.710 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
2017-09-04 14:46:42.711 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
2017-09-04 14:46:42.712 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);"
2017-09-04 14:46:42.713 +08:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);"
2017-09-04 14:46:42.713 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;"
2017-09-04 14:46:42.714 +08:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20170903124938_InitialApplicationDbContext', N'2.0.0-rtm-26452');"
2017-09-04 14:47:09.255 +08:00 [Information] Entity Framework Core "2.0.0-rtm-26452" initialized '"CoreContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2017-09-04 14:47:09.889 +08:00 [Information] Executed DbCommand ("194"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0"
2017-09-04 14:47:12.009 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/api/values  
2017-09-04 14:47:12.476 +08:00 [Information] Authorization failed for user: null.
2017-09-04 14:47:12.482 +08:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2017-09-04 14:47:12.487 +08:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2017-09-04 14:47:12.530 +08:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2017-09-04 14:47:12.534 +08:00 [Information] Executed action "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" in 73.7367ms
2017-09-04 14:47:12.546 +08:00 [Information] Request finished in 553.7187ms 302 
2017-09-04 14:47:12.631 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2Fvalues  
2017-09-04 14:47:12.633 +08:00 [Information] Request finished in 1.8486ms 404 
2017-09-04 15:25:31.193 +08:00 [Information] Entity Framework Core "2.0.0-rtm-26452" initialized '"CoreContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2017-09-04 15:25:34.330 +08:00 [Information] Executed DbCommand ("366"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0"
2017-09-04 15:25:35.074 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/api/values  
2017-09-04 15:25:35.410 +08:00 [Information] Authorization failed for user: null.
2017-09-04 15:25:35.415 +08:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2017-09-04 15:25:35.419 +08:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2017-09-04 15:25:35.430 +08:00 [Information] AuthenticationScheme: "Bearer" was challenged.
2017-09-04 15:25:35.434 +08:00 [Information] Executed action "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" in 28.2381ms
2017-09-04 15:25:35.438 +08:00 [Information] Request finished in 369.2739ms 401 
2017-09-04 15:25:35.593 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/favicon.ico  
2017-09-04 15:25:35.595 +08:00 [Information] Request finished in 2.1556ms 404 
2017-09-04 15:27:38.946 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/identity  
2017-09-04 15:27:39.218 +08:00 [Information] Successfully validated the token.
2017-09-04 15:27:39.220 +08:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2017-09-04 15:27:39.221 +08:00 [Information] Request finished in 274.5228ms 404 
2017-09-04 15:27:50.415 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/identity  
2017-09-04 15:27:50.418 +08:00 [Information] Successfully validated the token.
2017-09-04 15:27:50.419 +08:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2017-09-04 15:27:50.419 +08:00 [Information] Request finished in 4.2243ms 404 
2017-09-04 15:28:33.238 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/api/values  
2017-09-04 15:28:33.239 +08:00 [Information] Successfully validated the token.
2017-09-04 15:28:33.240 +08:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2017-09-04 15:28:33.242 +08:00 [Information] Authorization was successful for user: null.
2017-09-04 15:28:33.268 +08:00 [Fatal] Hi, Im Dave!!!!!!!!!!!!!!!!! "Dave"
2017-09-04 15:28:33.277 +08:00 [Information] Executing action method "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" with arguments (null) - ModelState is Valid
2017-09-04 15:29:04.657 +08:00 [Information] Executing JsonResult, writing value "System.Linq.Enumerable+SelectEnumerableIterator`2[System.Security.Claims.Claim,<>f__AnonymousType0`2[System.String,System.String]]".
2017-09-04 15:29:04.668 +08:00 [Information] Executed action "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" in 31426.5201ms
2017-09-04 15:29:04.673 +08:00 [Information] Request finished in 31435.0535ms 200 application/json; charset=utf-8
2017-09-04 15:36:21.087 +08:00 [Information] Request starting HTTP/1.1 GET http://localhost:5001/api/values  
2017-09-04 15:36:21.088 +08:00 [Information] Successfully validated the token.
2017-09-04 15:36:21.090 +08:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2017-09-04 15:36:21.091 +08:00 [Information] Authorization was successful for user: "1".
2017-09-04 15:36:21.093 +08:00 [Fatal] Hi, Im Dave!!!!!!!!!!!!!!!!! "Dave"
2017-09-04 15:36:21.094 +08:00 [Information] Executing action method "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" with arguments (null) - ModelState is Valid
2017-09-04 15:37:18.836 +08:00 [Information] Executing JsonResult, writing value "System.Linq.Enumerable+SelectEnumerableIterator`2[System.Security.Claims.Claim,<>f__AnonymousType0`2[System.String,System.String]]".
2017-09-04 15:37:18.840 +08:00 [Information] Executed action "CoreApi.Web.Controllers.ValuesController.Get (CoreApi.Web)" in 57748.9487ms
2017-09-04 15:37:18.842 +08:00 [Information] Request finished in 57755.0787ms 200 application/json; charset=utf-8
